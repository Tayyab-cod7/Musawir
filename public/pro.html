<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wing System - Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="dashboard.css">

</head>

<body>

    <!-- ðŸ”¹ Main Content (Initially Hidden) -->
    <div id="mainContent" style="display: none;">
        <!-- Place your full website content here (like homepage, navigation, etc.) -->
    </div>

    <main class="content">
        <div class="logo-image"></div>

        <!-- Home Page -->
        <div id="homePage" class="page active">
            <div class="home-container">
                <div class="welcome-header">
                    <h1>Welcome Back!</h1>
                    <p>Select Your Package</p>
                </div>
                <div class="ramadan-banner">
                    <p>ðŸŒ™ Ramadan Special Offer! Get <b>10% OFF</b> on all packages! ðŸŽ‰</p>
                </div>
                
                <div class="stats-grid">
                    <div  class="stat-card" onclick="window.location.href='dashboard.html'">
                        <h3>Basic Package</h3>
                    </div>
                    <div id="active" class="stat-card " onclick="window.location.href='pro.html'">
                        <h3>Pro Package</h3>
                    </div>
                    <div class="stat-card " onclick="window.location.href='premium.html'">
                        <h3>Premium Package</h3>
                    </div>
                </div>

                
                <div class="selected-package-name" id="selectedPackageName"> </div>
                <!-- Package Details Sections -->
                
                <!-- Basic Package Details -->
                <div id="basicPackageDetails" class="package-details fade-in basic-package">
                    <div class="plan-grid">

                        <!-- Basic Plan 1 -->
                        <div class="plan-card fade-in">
                            <div class="plan-card-icon"><i class="fas fa-seedling"></i></div>
                            <h3>Pro Plan 1</h3>
                            <div class="plan-card-price"><s>RS 3500</s> <b>RS 3000</b> (10% OFF)</div>
                            <div class="plan-card-earning">Daily Income: RS 500</div>
                            <div class="plan-card-validity">Valid for: 30 Days</div>
                            <div class="button-group">
                                <button class="invest-btn" onclick="return false;">Invest Now</button>
                            </div>
                        </div>

                        <!-- Basic Plan 2 -->
                        <div class="plan-card fade-in">
                            <div class="plan-card-icon"><i class="fas fa-leaf"></i></div>
                            <h3>Pro Plan 2</h3>
                            <div class="plan-card-price"><s>RS 6000</s> <b>RS 5000</b> (10% OFF)</div>
                            <div class="plan-card-earning">Daily Income: RS 650</div>
                            <div class="plan-card-validity">Valid for: 30 Days</div>
                            <div class="button-group">
                                <button class="invest-btn" onclick="return false;">Invest Now</button>
                            </div>
                        </div>

                        <!-- Basic Plan 3 -->
                        <div class="plan-card fade-in">
                            <div class="plan-card-icon"><i class="fas fa-tree"></i></div>
                            <h3>Pro Plan 3</h3>
                            <div class="plan-card-price"><s>RS 8500</s> <b>RS 7500</b> (10% OFF)</div>
                            <div class="plan-card-earning">Daily Income: RS 800</div>
                            <div class="plan-card-validity">Valid for: 30 Days</div>
                            <div class="button-group">
                                <button class="invest-btn" onclick="return false;">Invest Now</button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a class="nav-item active" href="dashboard.html">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a class="nav-item" href="earn.html">
            <i class="fas fa-coins"></i>
            <span>Earn</span>
        </a>
        <a class="nav-item" href="refferal.html">
            <i class="fas fa-users"></i>
            <span>Referral</span>
        </a>
        <a class="nav-item" href="profile.html">
            <i class="fas fa-user"></i>
            <span>Profile</span>
        </a>
    </nav>


    <script>
        // Notification System
        function showNotification(title, message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;

            let icon;
            switch (type) {
                case 'success':
                    icon = 'fa-check-circle';
                    break;
                case 'error':
                    icon = 'fa-times-circle';
                    break;
                case 'warning':
                    icon = 'fa-exclamation-circle';
                    break;
                default:
                    icon = 'fa-info-circle';
            }

            notification.innerHTML = `
                <i class="fas ${icon} notification-icon"></i>
                <div class="notification-content">
                    <div class="notification-title">${title}</div>
                    <div class="notification-message">${message}</div>
                </div>
                <button class="notification-close" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
                <div class="notification-progress"></div>
            `;

            container.appendChild(notification);

            // Auto remove after 5 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease forwards';
                setTimeout(() => notification.remove(), 300);
            }, 5000);
        }

        // Package Details Functions
        function showPackageDetails(packageType) {
            // Remove active class from all stat cards
            document.querySelectorAll('.stats-grid .stat-card').forEach(card => {
                card.classList.remove('active');
            });

            // Add active class to selected stat card
            const selectedCard = document.querySelector(`.stats-grid .stat-card[onclick="showPackageDetails('${packageType}')"]`);
            selectedCard.classList.add('active');

            // Update selected package name
            const packageNames = {
                'basic': 'Basic Package',
                'pro': 'Pro Package',
                'premium': 'Premium Package'
            };
            document.getElementById('selectedPackageName').textContent = `${packageNames[packageType]} Selected`;

            // Hide all package details
            document.getElementById('basicPackageDetails').classList.remove('active');
            document.getElementById('proPackageDetails').classList.remove('active');
            document.getElementById('premiumPackageDetails').classList.remove('active');

            // Show selected package details
            document.getElementById(`${packageType}PackageDetails`).classList.add('active');
        }

        // Existing authentication and purchase functions remain the same...
        function purchasePackage(packageId, amount) {
            const currentPhone = localStorage.getItem('currentPhone');
            if (!currentPhone) {
                alert('Please login first!');
                return;
            }

            if (confirm(`Are you sure you want to purchase ${packageId} for RS ${amount}?`)) {
                const userKey = `user_${currentPhone}`;
                const userData = JSON.parse(localStorage.getItem(userKey));

                if (userData) {
                    // Check if user has enough balance
                    if (userData.earnings < amount) {
                        alert('Insufficient balance to purchase this package!');
                        return;
                    }

                    // Deduct package cost from earnings
                    userData.earnings -= amount;
                    userData.package = packageId;
                    userData.packageAmount = amount;
                    userData.purchaseDate = new Date().toISOString();
                    localStorage.setItem(userKey, JSON.stringify(userData));

                    // Update earnings display
                    const earningsDisplay = document.querySelector('#earn .stat-card:last-child .value');
                    if (earningsDisplay) {
                        earningsDisplay.textContent = `RS ${userData.earnings}`;
                    }

                    alert(`Package ${packageId} purchased successfully! Your new balance is RS ${userData.earnings}`);
                }
            }
        }
        // Show Notification on Page Load (Hide Content)
        window.onload = function () {
            document.getElementById("mainContent").style.display = "none";
            document.getElementById("notificationOverlay").style.display = "flex";
        };

        // Close Notification & Show Content
        function closeNotification() {
            document.getElementById("notificationOverlay").style.display = "none";
            document.getElementById("mainContent").style.display = "block";
        }
        function showPackageDetails(packageType) {
            // Hide all package sections
            document.querySelectorAll('.package-details').forEach(section => {
                section.classList.remove('active');
            });

            // Remove active class from all package buttons
            document.querySelectorAll('.stat-card').forEach(card => {
                card.classList.remove('active');
            });

            // Add active class to selected package
            document.getElementById(`${packageType}PackageDetails`).classList.add('active');

            // Highlight the selected package button
            document.querySelector(`.stat-card[onclick="showPackageDetails('${packageType}')"]`).classList.add('active');
        }
    function showPackageDetails(packageType) {
        // Hide all package sections by setting display: none
        document.querySelectorAll('.package-details').forEach(section => {
            section.style.display = "none";
        });

        // Remove active class from all package buttons
        document.querySelectorAll('.stat-card').forEach(card => {
            card.classList.remove('active');
        });

        // Show only the selected package
        let selectedPackage = document.getElementById(`${packageType}PackageDetails`);
        if (selectedPackage) {
            selectedPackage.style.display = "flex";
        }

        // Highlight the active button
        let selectedCard = document.querySelector(`.stat-card[onclick="showPackageDetails('${packageType}')"]`);
        if (selectedCard) {
            selectedCard.classList.add('active');
        }
    }

    // Run on page load to show only the Basic Package
    document.addEventListener("DOMContentLoaded", function () {
        showPackageDetails('basic');
    });
    function showPackageDetails(packageType) {
        // Hide ALL package sections
        document.querySelectorAll('.package-details').forEach(section => {
            section.style.display = "none";
        });

        // Remove active class from all package buttons
        document.querySelectorAll('.stat-card').forEach(card => {
            card.classList.remove('active');
        });

        // Show the correct package section
        let selectedPackage = document.getElementById(`${packageType}PackageDetails`);
        if (selectedPackage) {
            selectedPackage.style.display = "flex";
        }

        // Highlight the correct button
        let selectedCard = document.querySelector(`.stat-card[onclick="showPackageDetails('${packageType}')"]`);
        if (selectedCard) {
            selectedCard.classList.add('active');
        }
    }

    // Ensure Basic Package is shown on page load
    window.onload = function () {
        showPackageDetails('basic');
    };
    function showPackageDetails(packageType) {
        // Hide all package sections
        document.querySelectorAll('.package-details').forEach(section => {
            section.style.display = "none";
        });

        // Remove active class from all package buttons
        document.querySelectorAll('.stat-card').forEach(card => {
            card.classList.remove('active');
        });

        // Show only the selected package section
        let selectedPackage = document.getElementById(`${packageType}PackageDetails`);
        if (selectedPackage) {
            selectedPackage.style.display = "flex"; // Show only the selected package
        }

        // Highlight the selected button
        let selectedCard = document.querySelector(`.stat-card[onclick="showPackageDetails('${packageType}')"]`);
        if (selectedCard) {
            selectedCard.classList.add('active');
        }
    }

    // Ensure the Basic Package is shown on page load
    document.addEventListener("DOMContentLoaded", function () {
        showPackageDetails('basic');
    });

    </script>
</body>

</html>